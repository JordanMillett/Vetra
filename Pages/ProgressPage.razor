@page "/progress"
@inject ProfileService Profile

<PageTitle>Vetra - Progress</PageTitle>

@if (!Profile.Initialized)
{
    <div class="d-flex justify-content-center m-5">
        <Spinner Type="SpinnerType.Dots" Size="SpinnerSize.ExtraLarge" />
    </div>
}
else
{
    <br>
    <div class=row>

        @for (int i = 0; i < Profile.Data.LearnedVocab.Count; i++)
        {
            <div class="col-lg-3 col-md-4 col-6">
                <p>@Profile.Data.LearnedVocab[i]</p>
                <div class="progress">
                    <ProgressBar Width="@Math.Clamp(Profile.Data.VocabProgression[i], 0, 100)" Height="10" />
                </div>
            </div>
        }
    </div>
}

@code
{
    protected override async Task OnInitializedAsync()
    {
        while (!Profile.Initialized)
        {
            await Task.Delay(250);
        }

        StateHasChanged();
    }
}