@page "/settings"
@inject SettingsService Settings

<PageTitle>Vetra - Settings</PageTitle>

@if (!Settings.Initialized)
{
    <Vetra.Components.Waiting />
}
else
{
    <h1 class="text-center"><strong>App Settings</strong></h1>
    <hr><br>


    <h3>Game</h3>
    <Switch @bind-Value="Settings.Data.EnableSpeechLessons" Label="Enable Speech Lessons" />
    <Switch @bind-Value="Settings.Data.ShowTransliteration" Label="Show Transliteration" />
    <br>
    <h3>Audio</h3>
    <Switch @bind-Value="Settings.Data.EnableSoundEffects" Label="Enable Sound Effects" />
    <Switch @bind-Value="Settings.Data.EnableMicSounds" Label="Enable Mic Chimes" />
    <Switch @bind-Value="Settings.Data.EnableTTS" Label="Enable Text to Speech" />
    <br>
    <h3>Visual</h3>
    <Switch @bind-Value="Settings.Data.EnableDarkTheme" Label="Enable Dark Theme" />
    <Switch @bind-Value="Settings.Data.HideNotifications" Label="Hide Notifications" />
    <Switch @bind-Value="Settings.Data.DevToolsEnabled" Label="Show Developer Tools" />
}

@code
{
    protected override async Task OnInitializedAsync()
    {
        while (!Settings.Initialized)
        {
            await Task.Delay(250);
        }

        StateHasChanged();
    }
}